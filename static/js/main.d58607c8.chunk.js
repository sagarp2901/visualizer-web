(this["webpackJsonpvisualizer-web"]=this["webpackJsonpvisualizer-web"]||[]).push([[0],{211:function(e,t,a){e.exports=a(458)},216:function(e,t,a){},241:function(e,t){},243:function(e,t){},253:function(e,t,a){},254:function(e,t,a){},456:function(e,t,a){},458:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(31),o=a.n(c),i=a(200),s=a(43),u=(a(216),a(202)),l=a(203),d=a(193),h=a.n(d),m=a(481),v=a(199),p=a(482),f=a(485),b=a(483),g=a(480),y=a(484),E=a(11),x=a.n(E),C=a(26),w=a(32),O=a(33),k=a(49),S=a(34),D=a(35),j=a(48),_=a.n(j),I=a(58),R=a.n(I),M=function(e){return fetch({CONFIRMED:"https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_19-covid-Confirmed.csv",DEATHS:"https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_19-covid-Deaths.csv",RECOVERED:"https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_19-covid-Recovered.csv"}[e]).then((function(e){return e.text()}))},A=function(e){var t=e?T():N(),a="https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_daily_reports/".concat(t,".csv");return fetch(a).then((function(e){return 200===e.status?e.text():e.status}))},N=function(){var e=new Date;e.setDate(e.getDate()-1);var t=e.getDate();t=t>9?t:"0"+t;var a=e.getMonth()+1;a=a>9?a:"0"+a;var n=e.getFullYear();return"".concat(a,"-").concat(t,"-").concat(n)},T=function(){var e=new Date;e.setDate(e.getDate());var t=e.getDate();t=t>9?t:"0"+t;var a=e.getMonth()+1;a=a>9?a:"0"+a;var n=e.getFullYear();return"".concat(a,"-").concat(t,"-").concat(n)},W=function(e,t){var a=e.filter((function(e){return e["Country/Region"]===t}));return e.length>1?z(a):L(a[0])},F=function(e){return e.shift(),e.map((function(e){return{country:e[1],count:e[e.length-1]}})).reduce((function(e,t){return{count:(parseInt(e.count)||0)+(parseInt(t.count)||0)}})).count},P=function(e){return e.forEach((function(e){delete e.Lat,delete e.Long,delete e["Province/State"],delete e["Country/Region"]})),e},L=function(e){var t=e["Country/Region"],a=P([e])[0],n=Object.keys(e),r=[];return n.forEach((function(e){var t=a[e];r.push([new Date(e).getTime(),t])})),{name:t,data:r}},z=function(e){var t=e[0]["Country/Region"],a=P(e),n=Object.keys(a[0]),r=[];return n.forEach((function(e){var t=0;a.forEach((function(a){var n=parseInt(a[e]);t+=isNaN(n)?0:parseInt(a[e])})),r.push([new Date(e).getTime(),t])})),{name:t,data:r}},V=function(e){var t=e.map((function(e){return{country:e["Country/Region"],confirmed:parseInt(e.Confirmed)||0,dead:parseInt(e.Deaths)||0,recovered:parseInt(e.Recovered)||0}})),a=G(e),n=[];a.forEach((function(e){var a=t.filter((function(t){return t.country===e}));n.push(a)}));var r=[];return n.forEach((function(e){if(e&&e.length){var t=e.reduce((function(e,t){return{country:e.country,confirmed:parseInt(e.confirmed)+parseInt(t.confirmed),dead:e.dead+t.dead,recovered:e.recovered+t.recovered}}));r.push(t)}})),r},B=function(e){var t=[],a=[],n=[];e.sort((function(e,t){return t.confirmed-e.confirmed}));var r=e.map((function(e){return e.country})).slice(0,10);e.forEach((function(e){t.push(e.confirmed),a.push(e.recovered),n.push(e.dead)}));var c=[];return c.push({name:"Confirmed",data:t.slice(0,10),color:"#F9D93E"}),c.push({name:"Recovered",data:a.slice(0,10),color:"#4caf50"}),c.push({name:"Deceased",data:n.slice(0,10),color:"#e53935"}),{series:c,countries:r}},G=function(e){var t=[];e.forEach((function(e){t.push(e["Country/Region"])}));var a=[];return t.forEach((function(e){e&&a.indexOf(e)<0&&a.push(e)})),a.sort(),a},U=a(22),H=a(479),J=function(e){Object(D.a)(a,e);var t=Object(S.a)(a);function a(e){var n;return Object(w.a)(this,a),(n=t.call(this,e)).allowChartUpdate=!0,n.state={series:[],countries:[]},n.createChart=n.createChart.bind(Object(k.a)(n)),n}return Object(O.a)(a,[{key:"componentDidMount",value:function(){var e=Object(C.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.createChart();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createChart",value:function(){var e=Object(C.a)(x.a.mark((function e(){var t,a,n,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.allowChartUpdate=!1,e.next=4,A(!1);case 4:return t=e.sent,e.next=7,Object(U.a)(t,{header:!0});case 7:(a=e.sent)&&(n=V(a.data),r=B(n),this.setState({series:r.series,countries:r.countries})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.warn(e.t0);case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this.state,a=t.series,n=t.countries,c={chart:{type:"bar",height:"100%"},title:{text:"Top 10 Affected Countries"},xAxis:{categories:(e={series:a,countries:n}).countries},legend:{reversed:!1},plotOptions:{series:{dataLabels:{enabled:!0}}},series:e.series,credits:{enabled:!1},exporting:{enabled:!1}};return r.a.createElement(H.a,{style:{padding:"10px"}},r.a.createElement(R.a,{containerProps:{style:{minWidth:"375px",width:"90vw"}},highcharts:_.a,options:c}))}}]),a}(r.a.Component),Y=(a(253),function(e){Object(D.a)(a,e);var t=Object(S.a)(a);function a(){var e;return Object(w.a)(this,a),(e=t.call(this)).state={count:[{name:"Total Confirmed",value:0,class:"yellow"},{name:"Total Recovered",value:0,class:"green"},{name:"Total Deceased",value:0,class:"red"}]},e}return Object(O.a)(a,[{key:"componentDidMount",value:function(){var e=Object(C.a)(x.a.mark((function e(){var t,a,n,r,c,o,i,s,u,l;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M("CONFIRMED");case 3:return t=e.sent,e.next=6,Object(U.a)(t);case 6:return a=e.sent,e.next=9,M("RECOVERED");case 9:return n=e.sent,e.next=12,Object(U.a)(n);case 12:return r=e.sent,e.next=15,M("DEATHS");case 15:return c=e.sent,e.next=18,Object(U.a)(c);case 18:o=e.sent,a&&r&&o&&(i=F(a.data),s=F(r.data),u=F(o.data),(l=this.state.count)[0].value=i,l[1].value=s,l[2].value=u,this.setState({count:l})),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(0),console.warn(e.t0);case 25:case"end":return e.stop()}}),e,this,[[0,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this.state.count,a={chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1},title:{text:"<b>Total Cases</b>",align:"center",verticalAlign:"middle",y:100},tooltip:{pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"},plotOptions:{pie:{size:350,allowPointSelect:!0,dataLabels:{enabled:!0,format:"<b>{point.name}</b>: {point.percentage:.1f} %",distance:-40},startAngle:-90,endAngle:90,center:["50%","75%"]}},series:[{type:"pie",name:"Count",innerSize:"50%",colorByPoint:!0,data:[{name:"Confirmed",color:"#F9D93E",y:(e={count:t}).count[0].value||1},{name:"Recovered",color:"#4caf50",y:e.count[1].value||1},{name:"Deceased",color:"#e53935",y:e.count[2].value||1}]}],credits:{enabled:!1},exporting:{enabled:!1}};return r.a.createElement("div",{className:"dashboard-container"},r.a.createElement("div",{className:"tiles"},r.a.createElement(H.a,{className:"tile"},r.a.createElement(R.a,{containerProps:{style:{minWidth:"375px",width:"90vw"}},highcharts:_.a,options:a})),this.state.count.map((function(e,t){return r.a.createElement(H.a,{key:t,className:"tile"},r.a.createElement("div",null,e.name),r.a.createElement("div",{className:e.class},e.value||"Data is updating..."))}))))}}]),a}(r.a.Component)),Z=(a(254),a(101)),q=Z.compose,X=Z.withProps,$=Z.withHandlers,K=a(256),Q=K.withScriptjs,ee=K.withGoogleMap,te=K.GoogleMap,ae=K.Marker,ne=K.InfoWindow,re=a(451).MarkerClusterer,ce=q(X({googleMapURL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyDEDlsTIDM12nZXq9_jrUZOJroDTeL0YS0&v=3.exp&libraries=geometry,drawing,places",loadingElement:r.a.createElement("div",{style:{height:"100%"}}),containerElement:r.a.createElement("div",{style:{height:"100vh"}}),mapElement:r.a.createElement("div",{style:{height:"100%"}})}),$({onMarkerClustererClick:function(){return function(e){var t=e.getMarkers();console.log("Current clicked markers length: ".concat(t.length)),console.log(t)}}}),Q,ee)((function(e){return r.a.createElement(te,{defaultZoom:3,defaultCenter:{lat:25.0391667,lng:121.525}},r.a.createElement(re,{onClick:e.onMarkerClustererClick,averageCenter:!0,enableRetinaIcons:!0,gridSize:60},e.markers.map((function(e,t){return r.a.createElement(ie,{key:t,marker:e})}))))})),oe=function(e){Object(D.a)(a,e);var t=Object(S.a)(a);function a(e){var n;return Object(w.a)(this,a),(n=t.call(this,e)).handleMouseOver=function(e){n.setState({showInfoWindow:!0})},n.handleMouseExit=function(e){n.setState({showInfoWindow:!1})},n.state={markers:[]},n}return Object(O.a)(a,[{key:"componentDidMount",value:function(){var e=Object(C.a)(x.a.mark((function e(){var t,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A(!1);case 3:return t=e.sent,e.next=6,Object(U.a)(t,{header:!0});case 6:(a=e.sent)&&a.data&&(this.setState({markers:(n=a.data,n.map((function(e){return{country:e["Country/Region"],region:e["Province/State"],coordinates:{latitude:parseFloat(e.Latitude)||0,longitude:parseFloat(e.Longitude)||0},confirmed:e.Confirmed,dead:e.Deaths,recovered:e.Recovered}})))}),console.log(this.state.markers)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.warn(e.t0);case 13:case"end":return e.stop()}var n}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{style:{width:"100%",height:"100vh"}},r.a.createElement(ce,{markers:this.state.markers}))}}]),a}(r.a.PureComponent),ie=function(e){Object(D.a)(a,e);var t=Object(S.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={showInfoWindow:!1},e.handleMouseOver=function(t){e.setState({showInfoWindow:!0})},e.handleMouseExit=function(t){e.setState({showInfoWindow:!1})},e}return Object(O.a)(a,[{key:"render",value:function(){var e=this.state.showInfoWindow,t=this.props.marker;return r.a.createElement(ae,{position:{lat:t.coordinates.latitude,lng:t.coordinates.longitude},onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseExit},e&&r.a.createElement(ne,null,r.a.createElement("div",{className:"markerContainer"},r.a.createElement("div",{className:"yellow"},"Confirmed: ",t.confirmed),r.a.createElement("div",{className:"green"},"Recovered: ",t.recovered),r.a.createElement("div",{className:"red"},"Deceased: ",t.dead))))}}]),a}(n.Component),se=a(126),ue=a.n(se),le=a(197),de=a.n(le),he=a(198),me=a.n(he);a(455),a(456);de()(ue.a);var ve=function(e){Object(D.a)(a,e);var t=Object(S.a)(a);function a(e){var n;return Object(w.a)(this,a),(n=t.call(this,e)).allowChartUpdate=!0,n.state={country:{value:"China",label:"China"},countries:[],confirmedSeries:[],deadSeries:[],recoveredSeries:[],countConfirmed:0,countRecovered:0,countDead:0,xAxis:[]},n.createChart=n.createChart.bind(Object(k.a)(n)),n.updateCountry=n.updateCountry.bind(Object(k.a)(n)),n}return Object(O.a)(a,[{key:"componentDidMount",value:function(){var e=Object(C.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.createChart();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createChart",value:function(){var e=Object(C.a)(x.a.mark((function e(){var t,a,n,r,c,o,i,s,u,l,d,h,m,v;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.allowChartUpdate=!1,e.next=4,M("CONFIRMED");case 4:return t=e.sent,e.next=7,Object(U.a)(t,{header:!0});case 7:return a=e.sent,e.next=10,M("DEATHS");case 10:return n=e.sent,e.next=13,Object(U.a)(n,{header:!0});case 13:return r=e.sent,e.next=16,M("RECOVERED");case 16:return c=e.sent,e.next=19,Object(U.a)(c,{header:!0});case 19:o=e.sent,a&&(i=G(a.data),s=i.map((function(e){return{label:e,value:e}})),this.setState({countries:s})),a&&r&&o&&(u=W(a.data,this.state.country.value),l=W(r.data,this.state.country.value),d=W(o.data,this.state.country.value),(h=u).name="Confirmed",h.color="#fbc02d",(m=d).name="Recovered",m.color="#00c853",(v=l).name="Deceased",v.color="#f44336",this.setState({confirmedSeries:h,deadSeries:v,recoveredSeries:m,countConfirmed:h.data[h.data.length-1][1]||0,countDead:v.data[v.data.length-1][1]||0,countRecovered:m.data[m.data.length-1][1]||0,xAxis:h.data.map((function(e){return e[0]}))})),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(0),console.warn(e.t0);case 27:case"end":return e.stop()}}),e,this,[[0,24]])})));return function(){return e.apply(this,arguments)}}()},{key:"updateCountry",value:function(){var e=Object(C.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({country:t}),e.next=3,this.createChart();case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this.state,a=t.confirmedSeries,n=t.recoveredSeries,c=t.deadSeries,o=t.xAxis,i=t.country,s=t.countries,u={title:{text:"Confirmed/Recovered/Deceased By Country"},chart:{type:"spline"},yAxis:{title:{text:"Total Count"},opposite:!1},xAxis:{categories:(e={confirmedSeries:a,recoveredSeries:n,deadSeries:c,xAxis:o}).xAxis,type:"datetime",labels:{format:"{value:%e-%b}"}},rangeSelector:{inputEnabled:!1,buttonSpacing:10,buttonTheme:{r:8,fill:"none",stroke:"none",width:60,height:18,style:{color:"#039",fontSize:"13px"},states:{hover:{fill:"#333333",stroke:"#333333"},select:{fill:"#039",style:{color:"white"}}}},buttons:[{type:"day",count:10,text:"10 Days"},{type:"day",count:20,text:"20 Days"},{type:"day",count:30,text:"30 Days"},{type:"all",count:e.confirmedSeries.length-1,text:"All"}]},series:[e.confirmedSeries,e.deadSeries,e.recoveredSeries],credits:{enabled:!1},exporting:{enabled:!1}};return r.a.createElement("div",{className:"tiles"},r.a.createElement("div",{className:"tile"},r.a.createElement(me.a,{options:s,onChange:this.updateCountry,value:i,placeholder:"Select an option"})),r.a.createElement(H.a,{className:"chart"},r.a.createElement(R.a,{constructorType:"stockChart",containerProps:{style:{minWidth:"375px",width:"90vw",height:"80vh"}},highcharts:ue.a,options:u})))}}]),a}(r.a.Component);function pe(e){var t=e.children,a=e.value,n=e.index,c=Object(l.a)(e,["children","value","index"]);return r.a.createElement(g.a,Object.assign({component:"div",role:"tabpanel",hidden:a!==n,id:"full-width-tabpanel-".concat(n),"aria-labelledby":"full-width-tab-".concat(n)},c),a===n&&r.a.createElement(y.a,{p:3},t))}function fe(e){return{id:"full-width-tab-".concat(e),"aria-controls":"full-width-tabpanel-".concat(e)}}var be=Object(m.a)((function(e){return{root:{backgroundColor:"#e0e0e0"}}}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ge=r.a.createElement(i.a,null,r.a.createElement("div",null,r.a.createElement(s.a,{path:"/",component:function(){var e=be(),t=Object(v.a)(),a=r.a.useState(0),n=Object(u.a)(a,2),c=n[0],o=n[1];return r.a.createElement("div",{className:e.root},r.a.createElement(p.a,{position:"static",color:"default"},r.a.createElement(f.a,{centered:!0,value:c,onChange:function(e,t){o(t)},indicatorColor:"primary",textColor:"primary"},r.a.createElement(b.a,Object.assign({label:"Dashboard"},fe(0))),r.a.createElement(b.a,Object.assign({label:"Heat Map"},fe(1))),r.a.createElement(b.a,Object.assign({label:"Top 10"},fe(2))),r.a.createElement(b.a,Object.assign({label:"Time Series"},fe(3))))),r.a.createElement(h.a,{axis:"rtl"===t.direction?"x-reverse":"x",index:c,onChangeIndex:function(e){o(e)}},r.a.createElement(pe,{value:c,index:0,dir:t.direction},r.a.createElement(Y,null)),r.a.createElement(pe,{value:c,index:1,dir:t.direction},r.a.createElement(oe,null)),r.a.createElement(pe,{value:c,index:2,dir:t.direction},r.a.createElement(J,null)),r.a.createElement(pe,{value:c,index:3,dir:t.direction},r.a.createElement(ve,null))))}}),r.a.createElement(s.a,{path:"/dashboard",component:Y}),r.a.createElement(s.a,{path:"/bars",component:J})));o.a.render(ge,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[211,1,2]]]);
//# sourceMappingURL=main.d58607c8.chunk.js.map