(this["webpackJsonpvisualizer-web"]=this["webpackJsonpvisualizer-web"]||[]).push([[0],{202:function(e,t,a){e.exports=a(450)},207:function(e,t,a){},233:function(e,t){},235:function(e,t){},244:function(e,t,a){},245:function(e,t,a){},247:function(e,t,a){},449:function(e,t,a){},450:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(26),o=a.n(c),i=(a(207),a(192)),s=a(193),u=(a(208),a(473)),l=a(191),d=a(474),h=a(477),m=a(475),v=a(472),f=a(476),p=a(11),b=a.n(p),g=a(22),y=a(27),E=a(28),C=a(43),w=a(29),x=a(30),O=a(42),k=a.n(O),S=a(52),D=a.n(S),j=function(e){return fetch({CONFIRMED:"https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_19-covid-Confirmed.csv",DEATHS:"https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_19-covid-Deaths.csv",RECOVERED:"https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_19-covid-Recovered.csv"}[e]).then((function(e){return e.text()}))},_=function(e){var t=e?R():I(),a="https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_daily_reports/".concat(t,".csv");return fetch(a).then((function(e){return 200===e.status?e.text():e.status}))},I=function(){var e=new Date;e.setDate(e.getDate()-1);var t=e.getDate();t=t>9?t:"0"+t;var a=e.getMonth()+1;a=a>9?a:"0"+a;var n=e.getFullYear();return"".concat(a,"-").concat(t,"-").concat(n)},R=function(){var e=new Date;e.setDate(e.getDate());var t=e.getDate();t=t>9?t:"0"+t;var a=e.getMonth()+1;a=a>9?a:"0"+a;var n=e.getFullYear();return"".concat(a,"-").concat(t,"-").concat(n)},M=function(e,t){var a=e.filter((function(e){return e["Country/Region"]===t}));return e.length>1?W(a):T(a[0])},N=function(e){return e.shift(),e.map((function(e){return{country:e[1],count:e[e.length-1]}})).reduce((function(e,t){return{count:(parseInt(e.count)||0)+(parseInt(t.count)||0)}})).count},A=function(e){return e.forEach((function(e){delete e.Lat,delete e.Long,delete e["Province/State"],delete e["Country/Region"]})),e},T=function(e){var t=e["Country/Region"],a=A([e])[0],n=Object.keys(e),r=[];return n.forEach((function(e){var t=a[e];r.push([new Date(e).getTime(),t])})),{name:t,data:r}},W=function(e){var t=e[0]["Country/Region"],a=A(e),n=Object.keys(a[0]),r=[];return n.forEach((function(e){var t=0;a.forEach((function(a){var n=parseInt(a[e]);t+=isNaN(n)?0:parseInt(a[e])})),r.push([new Date(e).getTime(),t])})),{name:t,data:r}},F=function(e){var t=e.map((function(e){return{country:e["Country/Region"],confirmed:parseInt(e.Confirmed)||0,dead:parseInt(e.Deaths)||0,recovered:parseInt(e.Recovered)||0}})),a=L(e),n=[];a.forEach((function(e){var a=t.filter((function(t){return t.country===e}));n.push(a)}));var r=[];return n.forEach((function(e){if(e&&e.length){var t=e.reduce((function(e,t){return{country:e.country,confirmed:parseInt(e.confirmed)+parseInt(t.confirmed),dead:e.dead+t.dead,recovered:e.recovered+t.recovered}}));r.push(t)}})),r},P=function(e){var t=[],a=[],n=[];e.sort((function(e,t){return t.confirmed-e.confirmed}));var r=e.map((function(e){return e.country})).slice(0,10);e.forEach((function(e){t.push(e.confirmed),a.push(e.recovered),n.push(e.dead)}));var c=[];return c.push({name:"Confirmed",data:t.slice(0,10),color:"#F9D93E"}),c.push({name:"Recovered",data:a.slice(0,10),color:"#4caf50"}),c.push({name:"Deceased",data:n.slice(0,10),color:"#e53935"}),{series:c,countries:r}},L=function(e){var t=[];e.forEach((function(e){t.push(e["Country/Region"])}));var a=[];return t.forEach((function(e){e&&a.indexOf(e)<0&&a.push(e)})),a.sort(),a},z=a(19),V=(a(244),function(e){Object(x.a)(a,e);var t=Object(w.a)(a);function a(e){var n;return Object(y.a)(this,a),(n=t.call(this,e)).allowChartUpdate=!0,n.state={series:[],countries:[]},n.createChart=n.createChart.bind(Object(C.a)(n)),n}return Object(E.a)(a,[{key:"componentDidMount",value:function(){var e=Object(g.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.createChart();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createChart",value:function(){var e=Object(g.a)(b.a.mark((function e(){var t,a,n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.allowChartUpdate=!1,e.next=4,_(!1);case 4:return t=e.sent,e.next=7,Object(z.a)(t,{header:!0});case 7:(a=e.sent)&&(n=F(a.data),r=P(n),this.setState({series:r.series,countries:r.countries})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.warn(e.t0);case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this.state,a=t.series,n=t.countries,c={chart:{type:"bar",height:"100%"},title:{text:"Top 10 Affected Countries"},xAxis:{categories:(e={series:a,countries:n}).countries},legend:{reversed:!1},plotOptions:{series:{dataLabels:{enabled:!0}}},series:e.series,credits:{enabled:!1},exporting:{enabled:!1}};return r.a.createElement("div",{className:"card"},r.a.createElement(D.a,{containerProps:{style:{minWidth:"375px",width:"100%"}},highcharts:k.a,options:c}))}}]),a}(r.a.Component)),B=(a(245),a(471)),G=function(e){Object(x.a)(a,e);var t=Object(w.a)(a);function a(){var e;return Object(y.a)(this,a),(e=t.call(this)).state={count:[{name:"Total Confirmed",value:0,class:"yellow"},{name:"Total Recovered",value:0,class:"green"},{name:"Total Deceased",value:0,class:"red"}]},e}return Object(E.a)(a,[{key:"componentDidMount",value:function(){var e=Object(g.a)(b.a.mark((function e(){var t,a,n,r,c,o,i,s,u,l;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j("CONFIRMED");case 3:return t=e.sent,e.next=6,Object(z.a)(t);case 6:return a=e.sent,e.next=9,j("RECOVERED");case 9:return n=e.sent,e.next=12,Object(z.a)(n);case 12:return r=e.sent,e.next=15,j("DEATHS");case 15:return c=e.sent,e.next=18,Object(z.a)(c);case 18:o=e.sent,a&&r&&o&&(i=N(a.data),s=N(r.data),u=N(o.data),(l=this.state.count)[0].value=i,l[1].value=s,l[2].value=u,this.setState({count:l})),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(0),console.warn(e.t0);case 25:case"end":return e.stop()}}),e,this,[[0,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this.state.count,a={chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1},title:{text:"<b>Total Cases</b>",align:"center",verticalAlign:"middle",y:100},tooltip:{pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"},plotOptions:{pie:{size:350,allowPointSelect:!0,dataLabels:{enabled:!0,format:"<b>{point.name}</b>: {point.percentage:.1f} %",distance:-40},startAngle:-90,endAngle:90,center:["50%","75%"]}},series:[{type:"pie",name:"Count",innerSize:"50%",colorByPoint:!0,data:[{name:"Confirmed",color:"#F9D93E",y:(e={count:t}).count[0].value||1},{name:"Recovered",color:"#4caf50",y:e.count[1].value||1},{name:"Deceased",color:"#e53935",y:e.count[2].value||1}]}],credits:{enabled:!1},exporting:{enabled:!1}};return r.a.createElement("div",{className:"dashboard-container"},r.a.createElement("div",{className:"tiles"},r.a.createElement(B.a,{className:"tile"},r.a.createElement(D.a,{containerProps:{style:{minWidth:"375px",width:"100%"}},highcharts:k.a,options:a})),this.state.count.map((function(e,t){return r.a.createElement(B.a,{key:t,className:"tile"},r.a.createElement("div",null,e.name),r.a.createElement("div",{className:e.class},e.value||"Data is updating..."))}))))}}]),a}(r.a.Component),U=(a(247),a(96)),H=U.compose,J=U.withProps,Y=U.withHandlers,Z=a(249),q=Z.withScriptjs,X=Z.withGoogleMap,$=Z.GoogleMap,K=Z.Marker,Q=Z.InfoWindow,ee=a(444).MarkerClusterer,te=H(J({googleMapURL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyDEDlsTIDM12nZXq9_jrUZOJroDTeL0YS0&v=3.exp&libraries=geometry,drawing,places",loadingElement:r.a.createElement("div",{style:{height:"100%"}}),containerElement:r.a.createElement("div",{style:{height:"100vh"}}),mapElement:r.a.createElement("div",{style:{height:"100%"}})}),Y({onMarkerClustererClick:function(){return function(e){var t=e.getMarkers();console.log("Current clicked markers length: ".concat(t.length)),console.log(t)}}}),q,X)((function(e){return r.a.createElement($,{defaultZoom:3,defaultCenter:{lat:25.0391667,lng:121.525}},r.a.createElement(ee,{onClick:e.onMarkerClustererClick,averageCenter:!0,enableRetinaIcons:!0,gridSize:60},e.markers.map((function(e,t){return r.a.createElement(ne,{key:t,marker:e})}))))})),ae=function(e){Object(x.a)(a,e);var t=Object(w.a)(a);function a(e){var n;return Object(y.a)(this,a),(n=t.call(this,e)).state={markers:[]},n}return Object(E.a)(a,[{key:"componentDidMount",value:function(){var e=Object(g.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_(!1);case 3:return t=e.sent,e.next=6,Object(z.a)(t,{header:!0});case 6:(a=e.sent)&&a.data&&(this.setState({markers:(n=a.data,n.map((function(e){return{country:e["Country/Region"],region:e["Province/State"],coordinates:{latitude:parseFloat(e.Latitude)||0,longitude:parseFloat(e.Longitude)||0},confirmed:e.Confirmed,dead:e.Deaths,recovered:e.Recovered}})))}),console.log(this.state.markers)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.warn(e.t0);case 13:case"end":return e.stop()}var n}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{style:{width:"100%",height:"100vh"}},r.a.createElement(te,{markers:this.state.markers}))}}]),a}(r.a.PureComponent),ne=function(e){Object(x.a)(a,e);var t=Object(w.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={showInfoWindow:!1},e.onClick=function(t){e.setState({showInfoWindow:!e.state.showInfoWindow}),setTimeout((function(){e.setState({showInfoWindow:!e.state.showInfoWindow})}),1e3)},e.handleMouseOver=function(t){e.setState({showInfoWindow:!0})},e.handleMouseExit=function(t){e.setState({showInfoWindow:!1})},e}return Object(E.a)(a,[{key:"render",value:function(){var e=this.state.showInfoWindow,t=this.props.marker;return r.a.createElement(K,{position:{lat:t.coordinates.latitude,lng:t.coordinates.longitude},onClick:this.onClick,onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseExit},e&&r.a.createElement(Q,null,r.a.createElement("div",{className:"markerContainer"},r.a.createElement("div",{className:"yellow"},"Confirmed: ",t.confirmed),r.a.createElement("div",{className:"green"},"Recovered: ",t.recovered),r.a.createElement("div",{className:"red"},"Deceased: ",t.dead))))}}]),a}(n.Component),re=a(121),ce=a.n(re),oe=a(189),ie=a.n(oe),se=a(190),ue=a.n(se);a(448),a(449);ie()(ce.a);var le=function(e){Object(x.a)(a,e);var t=Object(w.a)(a);function a(e){var n;return Object(y.a)(this,a),(n=t.call(this,e)).allowChartUpdate=!0,n.state={country:{value:"China",label:"China"},countries:[],confirmedSeries:[],deadSeries:[],recoveredSeries:[],countConfirmed:0,countRecovered:0,countDead:0,xAxis:[]},n.createChart=n.createChart.bind(Object(C.a)(n)),n.updateCountry=n.updateCountry.bind(Object(C.a)(n)),n}return Object(E.a)(a,[{key:"componentDidMount",value:function(){var e=Object(g.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.createChart();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createChart",value:function(){var e=Object(g.a)(b.a.mark((function e(){var t,a,n,r,c,o,i,s,u,l,d,h,m,v;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.allowChartUpdate=!1,e.next=4,j("CONFIRMED");case 4:return t=e.sent,e.next=7,Object(z.a)(t,{header:!0});case 7:return a=e.sent,e.next=10,j("DEATHS");case 10:return n=e.sent,e.next=13,Object(z.a)(n,{header:!0});case 13:return r=e.sent,e.next=16,j("RECOVERED");case 16:return c=e.sent,e.next=19,Object(z.a)(c,{header:!0});case 19:o=e.sent,a&&(i=L(a.data),s=i.map((function(e){return{label:e,value:e}})),this.setState({countries:s})),a&&r&&o&&(u=M(a.data,this.state.country.value),l=M(r.data,this.state.country.value),d=M(o.data,this.state.country.value),(h=u).name="Confirmed",h.color="#fbc02d",(m=d).name="Recovered",m.color="#00c853",(v=l).name="Deceased",v.color="#f44336",this.setState({confirmedSeries:h,deadSeries:v,recoveredSeries:m,countConfirmed:h.data[h.data.length-1][1]||0,countDead:v.data[v.data.length-1][1]||0,countRecovered:m.data[m.data.length-1][1]||0,xAxis:h.data.map((function(e){return e[0]}))})),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(0),console.warn(e.t0);case 27:case"end":return e.stop()}}),e,this,[[0,24]])})));return function(){return e.apply(this,arguments)}}()},{key:"updateCountry",value:function(){var e=Object(g.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({country:t}),e.next=3,this.createChart();case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this.state,a=t.confirmedSeries,n=t.recoveredSeries,c=t.deadSeries,o=t.xAxis,i=t.country,s=t.countries,u={title:{text:"Confirmed/Recovered/Deceased By Country"},chart:{type:"spline"},yAxis:{title:{text:"Total Count"}},xAxis:{categories:(e={confirmedSeries:a,recoveredSeries:n,deadSeries:c,xAxis:o}).xAxis,type:"datetime",labels:{format:"{value:%e-%b}"}},rangeSelector:{inputEnabled:!1,buttonSpacing:10,buttonTheme:{r:8,fill:"none",stroke:"none",width:60,height:18,style:{color:"#039",fontSize:"13px"},states:{hover:{fill:"#333333",stroke:"#333333"},select:{fill:"#039",style:{color:"white"}}}},buttons:[{type:"day",count:10,text:"10 Days"},{type:"day",count:20,text:"20 Days"},{type:"day",count:30,text:"30 Days"},{type:"all",count:e.confirmedSeries.length-1,text:"All"}]},series:[e.confirmedSeries,e.deadSeries,e.recoveredSeries],credits:{enabled:!1},exporting:{enabled:!1}};return r.a.createElement("div",{className:"tiles"},r.a.createElement("div",{className:"tile"},r.a.createElement(ue.a,{options:s,onChange:this.updateCountry,value:i,placeholder:"Select an option"})),r.a.createElement(B.a,{className:"chart"},r.a.createElement(D.a,{constructorType:"stockChart",containerProps:{style:{minWidth:"375px",width:"90vw",height:"80vh"}},highcharts:ce.a,options:u})))}}]),a}(r.a.Component);function de(e){var t=e.children,a=e.value,n=e.index,c=Object(s.a)(e,["children","value","index"]);return r.a.createElement(v.a,Object.assign({component:"div",role:"tabpanel",hidden:a!==n,id:"full-width-tabpanel-".concat(n),"aria-labelledby":"full-width-tab-".concat(n)},c),a===n&&r.a.createElement(f.a,{p:3},t))}function he(e){return{id:"full-width-tab-".concat(e),"aria-controls":"full-width-tabpanel-".concat(e)}}var me=Object(u.a)((function(e){return{root:{backgroundColor:"#e0e0e0",padding:"0"}}}));function ve(){var e=me(),t=(Object(l.a)(),r.a.useState(0)),a=Object(i.a)(t,2),n=a[0],c=a[1];return r.a.createElement("div",{className:e.root},r.a.createElement(d.a,{position:"static",color:"default"},r.a.createElement(h.a,{centered:!0,value:n,onChange:function(e,t){c(t)},indicatorColor:"primary",textColor:"primary"},r.a.createElement(m.a,Object.assign({label:"Dashboard"},he(0))),r.a.createElement(m.a,Object.assign({label:"Heat Map"},he(1))),r.a.createElement(m.a,Object.assign({label:"Top 10"},he(2))),r.a.createElement(m.a,Object.assign({label:"Time Series"},he(3))))),r.a.createElement(de,{value:n,index:0},r.a.createElement(G,null)),r.a.createElement(de,{value:n,index:1},r.a.createElement(ae,null)),r.a.createElement(de,{value:n,index:2},r.a.createElement(V,null)),r.a.createElement(de,{value:n,index:3},r.a.createElement(le,null)))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(ve,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[202,1,2]]]);
//# sourceMappingURL=main.dc699b23.chunk.js.map